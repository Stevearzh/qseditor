var Showdown={extensions:{}};var forEach=Showdown.forEach=function(c,d){if(typeof c.forEach==="function"){c.forEach(d)}else{var b,a=c.length;for(b=0;b<a;b++){d(c[b],b,c)}}};var stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(n){n=n||{};var x;var m;var a;var A=0;var j=[{type:"lang",regex:"\\[m\\](.+)\\[/m\\]",replace:function(V,X,U,W){if(n.recognize_bbcode){V=V.replace(/\*/g,"~S").replace(/_/g,"~U").replace(/\>/g,"&gt;").replace(/\</g,"&lt;")}if(n.enable_autolinking){V=V.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(Y){return Y.replace(/\/\//,"\\\\")})}return V}},{type:"lang",regex:"\\[math\\](.+)\\[/math\\]",replace:function(V,X,U,W){if(n.recognize_bbcode){V=V.replace(/\*/g,"~S").replace(/_/g,"~U").replace(/\>/g,"&gt;").replace(/\</g,"&lt;")}if(n.enable_autolinking){V=V.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(Y){return Y.replace(/\/\//,"\\\\")})}return V}},{type:"lang",regex:"\\[code=.+\\](.+)\\[/code\\]",replace:function(V,U){if(n.recognize_bbcode){V=V.replace(/\*/g,"~S").replace(/_/g,"~U").replace(/\>/g,"&gt;").replace(/\</g,"&lt;")}if(n.enable_autolinking){V=V.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(W){return W.replace(/\/\//,"\\\\")})}return V}},{type:"lang",regex:/\[url(\=(.*))?\](.*)\[\/url\]/g,replace:function(X,U,V,W){if(n.recognize_bbcode){X=X.replace(/\>/g,"&gt;").replace(/\</g,"&lt;")}if(n.enable_autolinking){X=X.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(Y){return Y.replace(/\/\//,"\\\\")})}return X}}];var q=[{type:"lang",regex:"<hr />",replace:function(U){return"[hr]"}},{type:"lang",regex:"</?p>",replace:function(U){return""}},{type:"lang",regex:"&gt;",replace:function(U){return">"}},{type:"lang",regex:"&lt;",replace:function(U){return"<"}},{type:"lang",regex:"~S",replace:function(U){return"*"}},{type:"lang",regex:"~U",replace:function(U){return"_"}},{type:"lang",regex:/^(https?|ftpe?s?):\\\\(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,replace:function(U){return U.replace(/\\\\/,"//")}}];if(typeof module!=="undefined"&&typeof exports!=="undefined"&&typeof require!=="undefind"){var t=require("fs");if(t){var S=t.readdirSync((__dirname||".")+"/extensions").filter(function(U){return ~U.indexOf(".js")}).map(function(U){return U.replace(/\.js$/,"")});Showdown.forEach(S,function(V){var U=stdExtName(V);Showdown.extensions[U]=require("./extensions/"+V)})}}this.makeBBCode=function(U){x={};m={};a=[];U=U.replace(/~/g,"~T");U=U.replace(/\$/g,"~D");U=U.replace(/\r\n/g,"\n");U=U.replace(/\r/g,"\n");U="\n\n"+U+"\n\n";U=M(U);U=U.replace(/^[ \t]+$/mg,"");Showdown.forEach(j,function(V){U=d(V,U)});U=G(U);U=p(U);U=l(U);U=b(U);U=Q(U);U=U.replace(/~D/g,"$$");U=U.replace(/~T/g,"~");Showdown.forEach(q,function(V){U=d(V,U)});return U};if(n&&n.extensions){var g=this;Showdown.forEach(n.extensions,function(U){if(typeof U==="string"){U=Showdown.extensions[stdExtName(U)]}if(typeof U==="function"){Showdown.forEach(U(g),function(V){if(V.type){if(V.type==="language"||V.type==="lang"){j.push(V)}else{if(V.type==="output"||V.type==="html"){q.push(V)}}}else{q.push(V)}})}else{throw"Extension '"+U+"' could not be loaded.  It was either not found or is not a valid extension."}})}var d=function(W,X){if(W.regex){try{var V=new RegExp(W.regex,"g")}catch(U){var V=W.regex}return X.replace(V,W.replace)}else{if(W.filter){return W.filter(X)}}};var l=function(U){U+="~0";U=U.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(X,Z,Y,W,V){Z=Z.toLowerCase();x[Z]=B(Y);if(W){return W+V}else{if(V){m[Z]=V.replace(/"/g,"&quot;")}}return""});U=U.replace(/~0/,"");return U};var p=function(W){W=W.replace(/\n/g,"\n\n");var V="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside";var U="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";W=W.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,T);W=W.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,T);W=W.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,T);W=W.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,T);W=W.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,T);W=W.replace(/\n\n/g,"\n");return W};var T=function(U,V){var W=V;W=W.replace(/\n\n/g,"\n");W=W.replace(/^\n/,"");W=W.replace(/\n+$/g,"");W="\n\n~K"+(a.push(W)-1)+"K\n\n";return W};var b=function(V){V=f(V);var U=R("<hr />");V=V.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,U);V=V.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,U);V=V.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,U);V=O(V);V=r(V);V=c(V);V=p(V);V=L(V);return V};var h=function(U){U=s(U);U=w(U);U=I(U);U=D(U);U=E(U);U=N(U);U=B(U);U=y(U);U=i(U);U=P(U);U=J(U);U=H(U);return U};var w=function(V){var U=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;V=V.replace(U,function(X){var W=X.replace(/(.)<\/?code>(?=.)/g,"$1`");W=z(W,"\\`*_");return W});return V};var E=function(U){U=U.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()/g,e);U=U.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\))/g,e);U=U.replace(/(\[([^\[\]]+)\])()()()()/g,e);return U};var e=function(Z,af,ae,ad,ac,ab,Y){if(Y==undefined){Y=""}var X=af;var V=ae;var W=ad.toLowerCase();var U=ac;var aa=Y;if(U==""){if(W==""){W=V.toLowerCase().replace(/ ?\n/g," ")}U="#"+W;if(x[W]!=undefined){U=x[W];if(m[W]!=undefined){aa=m[W]}}else{if(X.search(/\(\s*\)$/m)>-1){U=""}else{return X}}}else{if(!/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/.test(U)){return X}}U=z(U,"*_");return K(U,V)};var i=function(U){if(n&&n.enable_autolinking){return U.replace(/(^|\s)((https?|ftpe?s?|dict):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*)(\s|$)/gi,function(X,Y,W,V){console.log("[_DoUrlRecognition]",X,Y,W,V);return Y+"[url]"+W+"[/url]"+(X.match(" $")?" ":"")})}else{return U}};var N=function(U){U=U.replace(/<((https?|ftpe?s?|dict):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*)>/gi,function(W,V){return K(V,"")});U=U.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(V,W){return o(Q(W))});return U};var K=function(V,W){console.log("[_buildURL] url: "+V+" text: "+W);var U;if(U=V.match(/https?\:\/\/gist\.github\.com\/\w+\/(\w+)/)){return"[gist]"+U[1]+"[/gist]"}else{if(U=V.match(/https?:\/\/(\w\w)\.wikipedia.org\/wiki\/(.+)/)){return"[wiki="+U[1]+"]"+U[2].replace(/~E95E/g," ")+"[/wiki]"}else{if(U=V.match(/https?:\/\/twitter\.com\/[^\/]+\/status\/([0-9]+)/)){return"[twitter]"+U[1]+"[/twitter]"}else{if(U=(V.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch(?:\?v=|\?.+?&v=)|youtu\.be\/)[a-zA-Z0-9_-~]+/)||V.match(/https?:\/\/(?:www\.)?facebook\.com\/photo\.php(?:\?v=|\?.+?&v=)\d+/)||V.match(/https?:\/\/(?:www\.)?(?:dai\.ly\/|dailymotion\.com\/(?:.+?video=|(?:video|hub)\/))[a-z0-9]+/)||V.match(/https?:\/\/(?:www\.)?vimeo\.com.+?\d+/))){return"[video]"+U[0]+"[/video]"}else{if(U=V.match(/^https?:\/\/(?:open|play)\.spotify\.com\/track\/([\w\d]+)$/)){return"[music]spotify:track:"+U[1]+"[/music]"}else{if(U=(V.match(/https?:\/\/soundcloud\.com\/\S+\/\S+/)||V.match(/https?:\/\/(?:www\.)?deezer\.com\/(track|album|playlist)\/(\d+)/))){return"[music]"+U[0]+"[/music]"}else{if(W==""){return"[url]"+V+"[/url]"}else{return"[url="+V+"]"+W+"[/url]"}}}}}}}};var D=function(U){U=U.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()/g,F);U=U.replace(/(!\[(.*?)\]\s?\([ \t]*()<?((?:ht|f)tps?:\/\/(?:\w+\.)\S+)>?[ \t]*(?:(['"])(.*?)\5[ \t]*)?\))/g,F);return U};var F=function(Z,af,ae,ad,ac,ab,Y){var X=af;var W=ae;var V=ad.toLowerCase();var U=ac;var aa=Y;if(!aa){aa=""}if(U==""){if(V==""){V=W.toLowerCase().replace(/ ?\n/g," ")}U="#"+V;if(x[V]!=undefined){U=x[V];if(m[V]!=undefined){aa=m[V]}}else{return X}}W=W.replace(/"/g,"&quot;");U=z(U,"*_");var ag="[img]"+U+"[/img]";return ag};var f=function(V){V=V.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(W,X){return R("[b]"+h(X)+"[/b]")});V=V.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(X,W){return R("[b]"+h(W)+"[/b]")});V=V.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(W,Z,Y){var X=Z.length;if(X>3){return R(h(Y))}else{if(X==3){return R("[small]"+h(Y)+"[/small]")}else{return R("[b]"+h(Y)+"[/b]")}}});function U(W){return W.replace(/[^\w]/g,"").toLowerCase()}return V};var k;var O=function(V){V+="~0";var U=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(A){V=V.replace(U,function(X,aa,Z){var ab=aa;var Y=(Z.search(/[*+-]/g)>-1)?"ul":"ol";ab=ab.replace(/\n{2,}/g,"\n\n\n");var W=k(ab);W=W.replace(/\s+$/,"");console.log("[_DoLists]g_list_level, result:",W);W="[list]"+W+"[/list]\n";return W})}else{U=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;V=V.replace(U,function(Y,ac,aa,X){var ab=ac;var ad=aa;var Z=(X.search(/[*+-]/g)>-1)?"ul":"ol";var ad=ad.replace(/\n{2,}/g,"\n\n\n");var W=k(ad);console.log("[_DoLists]result: "+W);W=ab+"[list]\n"+W+"[/list]\n";return W})}V=V.replace(/~0/,"");return V};k=function(U){A++;U=U.replace(/\n{2,}$/,"\n");U+="~0";U=U.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(X,Z,Y,W,V){var ab=V;var aa=Z;var ac=Y;if(aa||(ab.search(/\n{2,}/)>-1)||(n&&n.check_quotes_into_lists)){ab=b(v(ab))}else{ab=O(v(ab));ab=ab.replace(/\n$/,"");ab=h(ab)}console.log("[_ProcessListItems] item: "+ab);return"[*] "+ab+"\n"});U=U.replace(/~0/g,"");A--;return U};var r=function(U){U+="~0";U=U.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(V,X,W){var Y=X;var Z=W;Y=C(v(Y));Y=M(Y);Y=Y.replace(/^\n+/g,"");Y=Y.replace(/\n+$/g,"");Y="[code]"+Y+"[/code]";return R(Y)+Z});U=U.replace(/~0/,"");return U};var G=function(U){U+="~0";U=U.replace(/(?:^|\n)```(.*)\n([\s\S]+?)\n```(\n|$)/g,function(V,X,W){console.log("[_DoGithubCodeBlocks] opening a code block, codeblock: ",W);var Z=X;var Y=W;Y=C(Y);Y=M(Y);Y=Y.replace(/^\n+/g,"");Y=Y.replace(/\n+$/g,"");Y="[code"+(Z?"="+Z:"")+"]\n"+Y+"\n[/code]";return Y});U=U.replace(/~0/,"");return U};var R=function(U){U=U.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(a.push(U)-1)+"K\n\n"};var s=function(U){U=U.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(X,Z,Y,W,V){var aa=W;aa=aa.replace(/^([ \t]*)/g,"");aa=aa.replace(/[ \t]*$/g,"");aa=C(aa);return Z+"[code]"+aa+"[/code]"});return U};var C=function(U){U=U.replace(/&/g,"&amp;");U=U.replace(/</g,"&lt;");U=U.replace(/>/g,"&gt;");U=z(U,"*_{}[]\\@#`~",false);return U};var y=function(U){console.log("[_DoItalicsAndBold]: text="+U);U=U.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"[b]$2[/b]");U=U.replace(/(\*|_)(?=\S)([^\]\r]*?\S)\1/g,"[em]$2[/em]");return U};var c=function(U){U=U.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(W,X){var Z=X;var V=false;var aa=[];if(n&&n.multiline_quoting==true){aa=Z.split("\n").map(function(ac,ad){return(ac.match(/^\>/))?ad:-1}).filter(function(ac,ad){return ad!=-1});V=(function(ac){if(ac.length<2){return false}return(ac[0]==0&&ac[1]==1)})(aa)}Z=Z.replace(/^[ \t]*>[ \t]?/gm,"~0");Z=Z.replace(/~0/g,"");Z=Z.replace(/^[ \t]+$/gm,"");Z=b(Z);Z=Z.replace(/(^|\n)/g,"$1  ");Z=Z.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(ac,ad){var ae=ad;ae=ae.replace(/^  /mg,"~0");ae=ae.replace(/~0/g,"");return ae});Z=Z.split("\n").map(function(ac){return ac.replace(/^ +/g,"")}).join("\n");if(V){var ab=Z,Y=false;Z="";ab.split("\n").map(function(ac,ad){if(aa.indexOf(ad)>-1){if(Y){Z+=ac+"\n"}else{Y=true;Z+="[quote]"+ac+"\n"}}else{if(Y){Y=false;Z+="[/quote]\n"+ac}else{Z+=ac+"\n"}}return ac});return Z+(Y?"[/quote]":"")+"\n"}else{return R("[quote]\n"+Z+"\n[/quote]")}});return U};var P=function(U){console.log("[_DoStrikes]: text="+U);U=U.replace(/~T~T(.+)~T~T/g,"[del]$1[/del]");return U};var J=function(V){console.log("[_DoUsers]: text="+V);V=V.replace(/\B(\\)?@([\S]+)\b/g,function U(W,X,Y){if(X==="\\"){return"@"+Y}return"[user]"+Y+"[/user]"});return V};var H=function(V){console.log("[_DoProjects]: text="+V);V=V.replace(/\B(\\)?#([\S]+)\b/g,function U(X,Y,W){if(Y==="\\"){return X}return"[project]"+W+"[/project]"});return V};var L=function(aa){aa=aa.replace(/^\n+/g,"");aa=aa.replace(/\n+$/g,"");var Z=aa.split(/\n{2,}/g);var W=[];var U=Z.length;for(var V=0;V<U;V++){var Y=Z[V];if(Y.search(/~K(\d+)K/g)>=0){W.push(Y)}else{if(Y.search(/\S/)>=0){Y=h(Y);Y=Y.replace(/^([ \t]*)/g,"<p>");Y+="</p>";W.push(Y)}}}U=W.length;for(var V=0;V<U;V++){while(W[V].search(/~K(\d+)K/)>=0){var X=a[RegExp.$1];X=X.replace(/\$/g,"$$$$");W[V]=W[V].replace(/~K\d+K/,X)}}console.log("[_FormParagraphs] grafsOut:",W);return W.join("\n\n")};var B=function(U){U=U.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");U=U.replace(/<(?![a-z\/?\$!])/gi,"&lt;");return U};var I=function(U){U=U.replace(/\\(\\)/g,u);U=U.replace(/\\([`*_{}\[\]()>#+-.!])/g,u);return U};var o=function(V){var U=[function(W){return"&#"+W.charCodeAt(0)+";"},function(W){return"&#x"+W.charCodeAt(0).toString(16)+";"},function(W){return W}];V="mailto:"+V;V=V.replace(/./g,function(W){if(W=="@"){W=U[Math.floor(Math.random()*2)](W)}else{if(W!=":"){var X=Math.random();W=(X>0.9?U[2](W):X>0.45?U[1](W):U[0](W))}}return W});V='<a href="'+V+'">'+V+"</a>";V=V.replace(/">.+:/g,'">');return V};var Q=function(U){U=U.replace(/~E(\d+)E/g,function(V,X){var W=parseInt(X);return String.fromCharCode(W)});return U};var v=function(U){U=U.replace(/^(\t|[ ]{1,4})/gm,"~0");U=U.replace(/~0/g,"");return U};var M=function(U){U=U.replace(/\t(?=\t)/g,"    ");U=U.replace(/\t/g,"~A~B");U=U.replace(/~B(.+?)~A/g,function(V,Y,X){var aa=Y;var W=4-aa.length%4;for(var Z=0;Z<W;Z++){aa+=" "}return aa});U=U.replace(/~A/g,"    ");U=U.replace(/~B/g,"");return U};var z=function(Y,V,W){var U="(["+V.replace(/([\[\]\\])/g,"\\$1")+"])";if(W){U="\\\\"+U}var X=new RegExp(U,"g");Y=Y.replace(X,u);return Y};var u=function(U,W){var V=W.charCodeAt(0);return"~E"+V+"E"}};if(typeof module!=="undefined"){module.exports=Showdown}if(typeof define==="function"&&define.amd){define("showdown",function(){return Showdown})};